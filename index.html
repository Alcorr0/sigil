<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title></title>
	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body id="body">
	<script id="settingsData" type="application/json">
		{
			"Transparent":{
				"isChildren":true,
				"properties":[],
				"defaults":[	]
			},
			"Move":{
				"isChildren":true,
				"properties":["x","y"],
				"defaults":[0,0]
			},
			"Rotate":{
				"isChildren":true,
				"properties":["angle"],
				"defaults":["PI/4"]
			},
			"Color RGB":{
				"isChildren":true,
				"properties":["red","green","blue","alpha"],
				"defaults":[1,0,0,1]
			},
			"Color HSV":{
				"isChildren":true,
				"properties":["hue","saturation","value","alpha"],
				"defaults":[0.5,1,1,1]
			},
			"Width":{
				"isChildren":true,
				"properties":["width"],
				"defaults":[2]
			},
			"To Circle":{
				"isChildren":true,
				"properties":["radius","segments","angle A","angle B","is alternately"],
				"defaults":[100,16,0,"PI*2",false]
			},
			"To Line":{
				"isChildren":true,
				"properties":["length","segments","offset","angle","is alternately"],
				"defaults":[100,4,0,0,false]
			},
			"Text":{
				"isChildren":false,
				"properties":["width","text","angle"],
				"defaults":[50,"text",0]
			},
			"Random Text":{
				"isChildren":false,
				"properties":["width","text","segments","seed","angle"],
				"defaults":[20,"αβγδεζηθικλμνξοπρστυφχψωΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡΣΤΥΦΧΨΩ",1,123,0]
			},
			"Number":{
				"isChildren":false,
				"properties":["width","expression"],
				"defaults":[50,"Id"]
			},
			"Line":{
				"isChildren":false,
				"properties":["x","y","dx","dy"],
				"defaults":[0,0,100,0]
			},
			"Circle":{
				"isChildren":false,
				"properties":["radius","angle A","angle B","fill"],
				"defaults":[100,0,"PI*2",false]
			},
			"Ellipse":{
				"isChildren":false,
				"properties":["radius A","radius B","angle","fill"],
				"defaults":[100,50,0,false]
			},
			"Letters Circle":{
				"isChildren":false,
				"properties":["radius","width","text","segments","angle"],
				"defaults":[100,50,"text",10,0]
			},
			"Random Letters Circle":{
				"isChildren":false,
				"properties":["radius","width","segments","text","seed","angle"],
				"defaults":[100,50,10,"αβγδεζηθικλμνξοπρστυφχψω ΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡΣΤΥΦΧΨΩ","floor(secs*2-0.5)",0]
			},
			"Polygon":{
				"isChildren":false,
				"properties":["radius","segments","max"],
				"defaults":[100,4,-1]
			},
			"Radial Circle":{
				"isChildren":false,
				"properties":["radius A","radius B","segments","angle A","angle B"],
				"defaults":[100,200,16,0,"PI*2"]
			}
		}
	</script>
	<script id="infoData" type="application/json">
		{
			"move":{
				"text":"moves coordinates",
				"src":"img/move.png"
			},
			"rotate":{
				"text":"rotates coordinates",
				"src":"img/rotate.png"
			},
			"colorHSV":{
				"text":"changes color",
				"src":"img/colorHSV.png"
			},
			"colorRGB":{
				"text":"changes color",
				"src":"img/colorRGB.png"
			},
			"width":{
				"text":"changes width",
				"src":"img/width.png"
			},
			"toCircle":{
				"text":"repeats subelements in the form of an arc",
				"src":"img/toCircle.png"
			},
			"toLine":{
				"text":"repeats subelements in the form of an line",
				"src":"img/toLine.png"
			},
			"text":{
				"text":"prints text",
				"src":"img/text.png"
			},
			"randomText":{
				"text":"prints string of random letters from list with given seed",
				"src":"img/randomText.png"
			},
			"number":{
				"text":"prints math expression",
				"src":"img/number.png"
			},
			"line":{
				"text":"line between coordinates",
				"src":"img/line.png"
			},
			"circle":{
				"text":"prints a circle or an arc with given start and end angles",
				"src":"img/circle.png"
			},
			"ellipse":{
				"text":"prints an ellipse",
				"src":"img/ellipse.png"
			},
			"lettersCircle":{
				"text":"prints the text in a circle a given number of times",
				"src":"img/lettersCircle.png"
			},
			"randLettersCircle":{
				"text":"prints string of random letters from a list",
				"src":"img/randLettersCircle.png"
			},
			"polygon":{
				"text":"prints polygon with given number of edges",
				"src":"img/polygon.png"
			},
			"radialCircle":{
				"text":"prints lines in a circle",
				"src":"img/radialCircle.png"
			}
		}
	</script>


	<canvas id="glow"></canvas>
	<canvas id="canvas"></canvas>

	<div id="interface">

		<div id="hover">
			<div id="place"></div>
		</div>
		<div id="constructor">
			<div class="node">
				<label class="nodeName">node name</label><label class="nodeNum">0</label>
				<button class="moveButton down" onclick="closeNode(this)"></button>
				<button class="remove" onclick="clr(this.parentElement.parentElement)"></button>
				<ul class="propList">

					<li class="property">
						<label class="propName">property name</label>
						<input class="propInput" type="text" name="property name" onchange="compile()">
					</li>

				</ul>
			</div>
			<div class="add" type="Move">
				<ul class="childrenList root">
					
				</ul>
				<button class="addBtn" onclick="showAdd(this.parentElement)">+</button>
			</div>
		</div>
		<div id="addMenu">
			<label>modifiers</label>
			<button class="remove" onclick="showAdd()"></button>
			<button onclick="addN('Move')"					>Move</button>
			<button onclick="addN('Rotate')"				>Rotate</button>
			<button onclick="addN('Transparent')"			>Transparent</button>
			<button onclick="addN('Color RGB')"				>Color RGBA</button>
			<button onclick="addN('Color HSV')"				>Color HSVA</button>
			<button onclick="addN('Width')"					>Width</button>
			<button onclick="addN('To Circle')"				>To circle</button>
			<button onclick="addN('To Line')"				>To line</button>
			<label>simple</label>
			<button onclick="addN('Text')"					>Text</button>
			<button onclick="addN('Random Text')"			>Random text</button>
			<button onclick="addN('Number')"				>Number</button>
			<button onclick="addN('Line')"					>Line</button>
			<button onclick="addN('Circle')"				>Circle</button>
			<button onclick="addN('Ellipse')"				>Ellipse</button>
			<button onclick="addN('Polygon')"				>Polygon</button>
			<label>circles</label>
			<button onclick="addN('Letters Circle')"		>Letters crcle</button>
			<button onclick="addN('Random Letters Circle')"	>RandLetters circle</button>
			<button onclick="addN('Radial Circle')"			>Radial circle</button>
		</div>
		<div id="buttons">
			<label  id="timeLabel">Period</label>
			<input  id="time" type="text" value="PI*2">
			<button id="record" onclick="startRecord()">record</button>
			<hr>
			<button id="show" onclick="show()">edit</button>
			<button id="clear"   onclick="clr();compile()">clear</button>
			<input  id="shareInout" type="text" name="share" value='[{"type":"Width","width":"20","children":[{"type":"Circle","radius":"80","angle A":"0","angle B":"PI*2","fill":false}]},{"type":"Width","width":"5","children":[{"type":"Circle","radius":"50","angle A":"0","angle B":"PI*2","fill":false}]},{"type":"Move","x":"0","y":"0","children":[{"type":"Random Text","width":"70","text":"ΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡΣΤΥΦΧΨΩ","segments":"1","seed":"secs","angle":"0"}]},{"type":"Transparent","children":[{"type":"Width","width":"1","children":[{"type":"Rotate","angle":"PI/4+time","children":[{"type":"Radial Circle","radius A":"80-20","radius B":"80+20","segments":"4","angle A":"0","angle B":"PI*2"}]}]}]},{"type":"Width","width":"7","children":[{"type":"Circle","radius":"200","angle A":"0","angle B":"PI*2","fill":false},{"type":"Circle","radius":"185","angle A":"0","angle B":"PI*2","fill":false}]},{"type":"Width","width":"2","children":[{"type":"Circle","radius":"250","angle A":"0","angle B":"PI*2","fill":false}]},{"type":"Rotate","angle":"time","children":[{"type":"Random Letters Circle","radius":"60","width":"10","segments":"20","text":"αβγδεζηθικλμνξοπρστυφχψω ΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡΣΤΥΦΧΨΩ","seed":"floor(secs*2-0.5)","angle":"0"}]},{"type":"Rotate","angle":"-time","children":[{"type":"Random Letters Circle","radius":"140","width":"10","segments":"100","text":"αβγδεζηθικλμνξοπρστυφχψω","seed":"floor(secs*2-0.5)","angle":"0"}]},{"type":"Rotate","angle":"time","children":[{"type":"To Circle","is alternately":false,"radius":"140","segments":"4","angle A":"0","angle B":"PI*2","children":[{"type":"Transparent","children":[{"type":"Circle","radius":"65","angle A":"0","angle B":"PI*2","fill":true}]},{"type":"Circle","radius":"65","angle A":"0","angle B":"PI*2","fill":false},{"type":"Width","width":"2","children":[{"type":"Circle","radius":"50","angle A":"0","angle B":"PI*2","fill":false},{"type":"Circle","radius":"40","angle A":"0","angle B":"PI*2","fill":false},{"type":"To Circle","is alternately":false,"radius":"44","segments":"4","angle A":"time/2","angle B":"PI*2","children":[{"type":"Move","x":"-10","y":"0","children":[{"type":"Random Text","width":"10","text":"ΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡΣΤΥΦΧΨΩ","segments":"3","seed":"secs/2-Id(0)","angle":"0"}]}]},{"type":"Rotate","angle":"-time","children":[{"type":"Letters Circle","radius":"30","width":"10","text":"αβγδεζ      ","segments":"4","angle":"0"}]},{"type":"Random Text","width":"40","text":"ΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡΣΤΥΦΧΨΩ","segments":"1","seed":"secs*4+Id(1)","angle":"0"}]}]},{"type":"To Circle","is alternately":false,"radius":"205","segments":"4","angle A":"0","angle B":"PI*2","children":[{"type":"Transparent","children":[{"type":"Ellipse","radius A":"20","radius B":"10","angle":"0","fill":true}]}]}]},{"type":"Width","width":"1","children":[{"type":"Color RGB","red":"1","green":"1","blue":"1","alpha":"0.5","children":[{"type":"Circle","radius":"130","angle A":"0","angle B":"PI*2","fill":false}]}]},{"type":"Width","width":"1","children":[{"type":"Color RGB","red":"1","green":"1","blue":"1","alpha":"0.5","children":[{"type":"Polygon","radius":"215","segments":"3","max":"-1"},{"type":"Rotate","angle":"PI/3","children":[{"type":"Polygon","radius":"130","segments":"3","max":"-1"}]},{"type":"Rotate","angle":"-time","children":[{"type":"Polygon","radius":"130","segments":"6","max":"-1"}]},{"type":"Rotate","angle":"PI/6","children":[{"type":"To Circle","is alternately":false,"radius":"0","segments":"3","angle A":"0","angle B":"PI*2","children":[{"type":"Circle","radius":"215","angle A":"0","angle B":"PI/3","fill":false}]},{"type":"To Circle","is alternately":false,"radius":"215","segments":"3","angle A":"0","angle B":"PI*2","children":[{"type":"Circle","radius":"10","angle A":"0","angle B":"PI*2","fill":false},{"type":"Transparent","children":[{"type":"Circle","radius":"10","angle A":"0","angle B":"PI*2","fill":true}]}]}]}]}]},{"type":"Rotate","angle":"time","children":[{"type":"Width","width":"1","children":[{"type":"Color RGB","red":"1","green":"1","blue":"1","alpha":"0.5","children":[{"type":"Radial Circle","radius A":"50","radius B":"100","segments":"4","angle A":"0","angle B":"PI*2"},{"type":"Radial Circle","radius A":"182","radius B":"250","segments":"8","angle A":"0","angle B":"PI*2"}]}]},{"type":"Rotate","angle":"0.37","children":[{"type":"Random Letters Circle","radius":"225","width":"30","segments":"8","text":"ΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡΣΤΥΦΧΨΩ","seed":"floor(secs*2-0.5)","angle":"0"}]}]},{"type":"Rotate","angle":"-time","children":[{"type":"Random Letters Circle","radius":"300","width":"20","segments":"64","text":"▖▗▘▙▚▛▜▝▞▟■","seed":"secs*6","angle":"0"}]}]'>
			<button id="import" onclick="imp()">import</button>
			<hr>
			<button id="generate" onclick="generate()">generate</button>
			<hr>
			<label>Speed</label>					<input id="speed"		type="range" name="speed"		oninput="controlsUpdate(this)" min="0"  max="0.6" step="0.01" value="0.1">
			<hr>
			<label class="sub">X</label>			<input id="translateX"	type="range" name="translateX"	oninput="controlsUpdate(this)" min="-1" max="1"   step="0.05" value="0">
			<label class="sub">Y</label>			<input id="translateY"	type="range" name="translateY"	oninput="controlsUpdate(this)" min="-1" max="1"   step="0.05" value="0">
			<label class="sub">Skew x</label>		<input id="skewX"		type="range" name="skewX"		oninput="controlsUpdate(this)" min="-1" max="1"   step="0.1"  value="0">
			<label class="sub">Skew y</label>		<input id="skewY"		type="range" name="skewY"		oninput="controlsUpdate(this)" min="-1" max="1"   step="0.1"  value="0">
			<label class="sub">Scale</label>		<input id="scale"		type="range" name="scale"		oninput="controlsUpdate(this)" min="0"  max="5"   step="0.1"  value="1.5">
			<hr><label class="sub">Glow</label>
			<label class="sub">radius</label>		<input id="glowR"		type="range" name="glowR"		oninput="controlsUpdate(this)" min="0"  max="50"  step="1"    value="9">
			<label class="sub">color</label>		<input id="glowC"		type="range" name="glowC"		oninput="controlsUpdate(this)" min="0"  max="1"   step="0.05" value="0.66">
			<label class="sub">directions</label>	<input id="glowD"		type="range" name="glowD"		oninput="controlsUpdate(this)" min="2"  max="32"  step="1"    value="16">
			<label class="sub">quality</label>		<input id="glowQ"		type="range" name="glowQ"		oninput="controlsUpdate(this)" min="4"  max="16"  step="0.1"  value="4">
		</div>
	</div>

	<button id="infoButton" onclick="showInfo()">i</button>
	<div id="info">
		<select id="infoSelect" oninput="info(this)">
			<optgroup label="modifiers">
				<option value="move"				>move</option>
				<option value="rotate"				>rotate</option>
				<option value="colorHSV"			>colorHSV</option>
				<option value="colorRGB"			>colorRGB</option>
				<option value="width"				>width</option>
				<option value="toCircle"			>to circle</option>
				<option value="toLine"				>to line</option>
			</optgroup>
			<optgroup label="simple">
				<option value="text"				>text</option>
				<option value="randomText"			>random text</option>
				<option value="number"				>number</option>
				<option value="line"				>line</option>
				<option value="circle"				>circle</option>
				<option value="ellipse"				>ellipse</option>
			</optgroup>
			<optgroup label="circles">
				<option value="lettersCircle"		>letters crcle</option>
				<option value="randLettersCircle"	>randLetters circle</option>
				<option value="polygon"				>polygon</option>
				<option value="radialCircle"		>radial circle</option>
			</optgroup>
		</select>
		<div id="infoText">
			
		</div>
		<img id="imgInfo" src="">
	</div>
	<script type="text/javascript" src="gpu-browser.min.js"></script>
	<script type="text/javascript" src="init.js"></script>
	<script type="text/javascript" src="functions.js"></script>
	<script type="text/javascript" src="parse.js"></script>
	<script type="text/javascript" src="constructor.js"></script>
	<script type="text/javascript" src="record.js"></script>
	<script type="text/javascript" src="draw.js"></script>
	<script type="text/javascript" src="gen.js"></script>
</body>
</html>